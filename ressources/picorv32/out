iverilog -o testbench.vvp -DCOMPRESSED_ISA testbench.v picorv32.v
chmod -x testbench.vvp
~/rvv32/bin/riscv32-unknown-elf-gcc -c -mabi=ilp32 -march=rv32imvc -o firmware/start.o firmware/start.S
~/rvv32/bin/riscv32-unknown-elf-gcc -c -mabi=ilp32 -march=rv32imvc -Os --std=c99 -Werror -Wall -Wextra -Wshadow -Wundef -Wpointer-arith -Wcast-qual -Wcast-align -Wwrite-strings -Wredundant-decls -Wstrict-prototypes -Wmissing-prototypes -pedantic  -ffreestanding -nostdlib -o firmware/irq.o firmware/irq.c
~/rvv32/bin/riscv32-unknown-elf-gcc -c -mabi=ilp32 -march=rv32imvc -Os --std=c99 -Werror -Wall -Wextra -Wshadow -Wundef -Wpointer-arith -Wcast-qual -Wcast-align -Wwrite-strings -Wredundant-decls -Wstrict-prototypes -Wmissing-prototypes -pedantic  -ffreestanding -nostdlib -o firmware/print.o firmware/print.c
~/rvv32/bin/riscv32-unknown-elf-gcc -c -mabi=ilp32 -march=rv32imvc -Os --std=c99 -Werror -Wall -Wextra -Wshadow -Wundef -Wpointer-arith -Wcast-qual -Wcast-align -Wwrite-strings -Wredundant-decls -Wstrict-prototypes -Wmissing-prototypes -pedantic  -ffreestanding -nostdlib -o firmware/hello.o firmware/hello.c
~/rvv32/bin/riscv32-unknown-elf-gcc -c -mabi=ilp32 -march=rv32imvc -Os --std=c99 -Werror -Wall -Wextra -Wshadow -Wundef -Wpointer-arith -Wcast-qual -Wcast-align -Wwrite-strings -Wredundant-decls -Wstrict-prototypes -Wmissing-prototypes -pedantic  -ffreestanding -nostdlib -o firmware/sieve.o firmware/sieve.c
~/rvv32/bin/riscv32-unknown-elf-gcc -c -mabi=ilp32 -march=rv32imvc -Os --std=c99 -Werror -Wall -Wextra -Wshadow -Wundef -Wpointer-arith -Wcast-qual -Wcast-align -Wwrite-strings -Wredundant-decls -Wstrict-prototypes -Wmissing-prototypes -pedantic  -ffreestanding -nostdlib -o firmware/multest.o firmware/multest.c
~/rvv32/bin/riscv32-unknown-elf-gcc -c -mabi=ilp32 -march=rv32imvc -Os --std=c99 -Werror -Wall -Wextra -Wshadow -Wundef -Wpointer-arith -Wcast-qual -Wcast-align -Wwrite-strings -Wredundant-decls -Wstrict-prototypes -Wmissing-prototypes -pedantic  -ffreestanding -nostdlib -o firmware/stats.o firmware/stats.c
~/rvv32/bin/riscv32-unknown-elf-gcc -c -mabi=ilp32 -march=rv32imvc -Os --std=c99 -Werror -Wall -Wextra -Wshadow -Wundef -Wpointer-arith -Wcast-qual -Wcast-align -Wwrite-strings -Wredundant-decls -Wstrict-prototypes -Wmissing-prototypes -pedantic  -ffreestanding -nostdlib -o firmware/adrien.o firmware/adrien.c
~/rvv32/bin/riscv32-unknown-elf-gcc -c -mabi=ilp32 -march=rv32imv -o tests/vsetvl.o -DTEST_FUNC_NAME=vsetvl \
	-DTEST_FUNC_TXT='"vsetvl"' -DTEST_FUNC_RET=vsetvl_ret tests/vsetvl.S
~/rvv32/bin/riscv32-unknown-elf-gcc -Os -mabi=ilp32 -march=rv32imvc -ffreestanding -nostdlib -o firmware/firmware.elf \
	-Wl,--build-id=none,-Bstatic,-T,firmware/sections.lds,-Map,firmware/firmware.map,--strip-debug \
	firmware/start.o firmware/irq.o firmware/print.o firmware/hello.o firmware/sieve.o firmware/multest.o firmware/stats.o firmware/adrien.o tests/vsetvl.o -lgcc
chmod -x firmware/firmware.elf
~/rvv32/bin/riscv32-unknown-elf-objcopy -O binary firmware/firmware.elf firmware/firmware.bin
chmod -x firmware/firmware.bin
python3 firmware/makehex.py firmware/firmware.bin 32768 > firmware/firmware.hex
vvp -N testbench.vvp
from RVV
Yo depuis adrien
hello world
vsetvl..
------------------
RVV_insn  : 00000001000001010111001011010111
RVV_vtype : 00000000000000000000000000010000
RVV_vlmax : 00000000000000000000000000000100
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000000100

------------------
RVV_insn  : 00000000100001010111001011010111
RVV_vtype : 00000000000000000000000000001000
RVV_vlmax : 00000000000000000000000000001000
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000001000

------------------
RVV_insn  : 00000000000001010111001011010111
RVV_vtype : 00000000000000000000000000000000
RVV_vlmax : 00000000000000000000000000010000
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000010000

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000010000
RVV_vlmax : 00000000000000000000000000000100
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000000100

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000001000
RVV_vlmax : 00000000000000000000000000001000
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000001000

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000000000
RVV_vlmax : 00000000000000000000000000010000
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000010000

------------------
RVV_insn  : 00000001000101010111001011010111
RVV_vtype : 00000000000000000000000000010001
RVV_vlmax : 00000000000000000000000000001000
RVV_tmp : 111
------------------
FROM RVV : 00000000000000000000000000001000

------------------
RVV_insn  : 00000000100101010111001011010111
RVV_vtype : 00000000000000000000000000001001
RVV_vlmax : 00000000000000000000000000010000
RVV_tmp : 111
------------------
FROM RVV : 00000000000000000000000000010000

------------------
RVV_insn  : 00000000000101010111001011010111
RVV_vtype : 00000000000000000000000000000001
RVV_vlmax : 00000000000000000000000000100000
RVV_tmp : 111
------------------
FROM RVV : 00000000000000000000000000100000

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000010001
RVV_vlmax : 00000000000000000000000000001000
RVV_tmp : 111
------------------
FROM RVV : 00000000000000000000000000001000

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000001001
RVV_vlmax : 00000000000000000000000000010000
RVV_tmp : 111
------------------
FROM RVV : 00000000000000000000000000010000

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000000001
RVV_vlmax : 00000000000000000000000000100000
RVV_tmp : 111
------------------
FROM RVV : 00000000000000000000000000100000

------------------
RVV_insn  : 00000001001001010111001011010111
RVV_vtype : 00000000000000000000000000010010
RVV_vlmax : 00000000000000000000000000010000
RVV_tmp : 110
------------------
FROM RVV : 00000000000000000000000000010000

------------------
RVV_insn  : 00000000101001010111001011010111
RVV_vtype : 00000000000000000000000000001010
RVV_vlmax : 00000000000000000000000000100000
RVV_tmp : 110
------------------
FROM RVV : 00000000000000000000000000100000

------------------
RVV_insn  : 00000000001001010111001011010111
RVV_vtype : 00000000000000000000000000000010
RVV_vlmax : 00000000000000000000000001000000
RVV_tmp : 110
------------------
FROM RVV : 00000000000000000000000001000000

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000010010
RVV_vlmax : 00000000000000000000000000010000
RVV_tmp : 110
------------------
FROM RVV : 00000000000000000000000000010000

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000001010
RVV_vlmax : 00000000000000000000000000100000
RVV_tmp : 110
------------------
FROM RVV : 00000000000000000000000000100000

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000000010
RVV_vlmax : 00000000000000000000000001000000
RVV_tmp : 110
------------------
FROM RVV : 00000000000000000000000001000000

------------------
RVV_insn  : 00000001001101010111001011010111
RVV_vtype : 00000000000000000000000000010011
RVV_vlmax : 00000000000000000000000000100000
RVV_tmp : 101
------------------
FROM RVV : 00000000000000000000000000100000

------------------
RVV_insn  : 00000000101101010111001011010111
RVV_vtype : 00000000000000000000000000001011
RVV_vlmax : 00000000000000000000000001000000
RVV_tmp : 101
------------------
FROM RVV : 00000000000000000000000001000000

------------------
RVV_insn  : 00000000001101010111001011010111
RVV_vtype : 00000000000000000000000000000011
RVV_vlmax : 00000000000000000000000010000000
RVV_tmp : 101
------------------
FROM RVV : 00000000000000000000000010000000

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000010011
RVV_vlmax : 00000000000000000000000000100000
RVV_tmp : 101
------------------
FROM RVV : 00000000000000000000000000100000

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000001011
RVV_vlmax : 00000000000000000000000001000000
RVV_tmp : 101
------------------
FROM RVV : 00000000000000000000000001000000

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000000011
RVV_vlmax : 00000000000000000000000010000000
RVV_tmp : 101
------------------
FROM RVV : 00000000000000000000000010000000

------------------
RVV_insn  : 00000001011101010111001011010111
RVV_vtype : 00000000000000000000000000010111
RVV_vlmax : 00000000000000000000000000000010
RVV_tmp : 001
------------------
FROM RVV : 00000000000000000000000000000010

------------------
RVV_insn  : 00000000111101010111001011010111
RVV_vtype : 00000000000000000000000000001111
RVV_vlmax : 00000000000000000000000000000100
RVV_tmp : 001
------------------
FROM RVV : 00000000000000000000000000000100

------------------
RVV_insn  : 00000000011101010111001011010111
RVV_vtype : 00000000000000000000000000000111
RVV_vlmax : 00000000000000000000000000001000
RVV_tmp : 001
------------------
FROM RVV : 00000000000000000000000000001000

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000010111
RVV_vlmax : 00000000000000000000000000000010
RVV_tmp : 001
------------------
FROM RVV : 00000000000000000000000000000010

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000001111
RVV_vlmax : 00000000000000000000000000000100
RVV_tmp : 001
------------------
FROM RVV : 00000000000000000000000000000100

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000000111
RVV_vlmax : 00000000000000000000000000001000
RVV_tmp : 001
------------------
FROM RVV : 00000000000000000000000000001000

------------------
RVV_insn  : 00000001011001010111001011010111
RVV_vtype : 00000000000000000000000000010110
RVV_vlmax : 00000000000000000000000000000001
RVV_tmp : 010
------------------
FROM RVV : 00000000000000000000000000000001

------------------
RVV_insn  : 00000000111001010111001011010111
RVV_vtype : 00000000000000000000000000001110
RVV_vlmax : 00000000000000000000000000000010
RVV_tmp : 010
------------------
FROM RVV : 00000000000000000000000000000010

------------------
RVV_insn  : 00000000011001010111001011010111
RVV_vtype : 00000000000000000000000000000110
RVV_vlmax : 00000000000000000000000000000100
RVV_tmp : 010
------------------
FROM RVV : 00000000000000000000000000000100

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000010110
RVV_vlmax : 00000000000000000000000000000001
RVV_tmp : 010
------------------
FROM RVV : 00000000000000000000000000000001

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000001110
RVV_vlmax : 00000000000000000000000000000010
RVV_tmp : 010
------------------
FROM RVV : 00000000000000000000000000000010

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000000110
RVV_vlmax : 00000000000000000000000000000100
RVV_tmp : 010
------------------
FROM RVV : 00000000000000000000000000000100

------------------
RVV_insn  : 00000001010101010111001011010111
RVV_vtype : 10000000000000000000000000000000
RVV_vlmax : 00000000000000000000000000000000
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000000000

------------------
RVV_insn  : 00000000110101010111001011010111
RVV_vtype : 00000000000000000000000000001101
RVV_vlmax : 00000000000000000000000000000001
RVV_tmp : 011
------------------
FROM RVV : 00000000000000000000000000000001

------------------
RVV_insn  : 00000000010101010111001011010111
RVV_vtype : 00000000000000000000000000000101
RVV_vlmax : 00000000000000000000000000000010
RVV_tmp : 011
------------------
FROM RVV : 00000000000000000000000000000010

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 10000000000000000000000000000000
RVV_vlmax : 00000000000000000000000000000000
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000000000

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000001101
RVV_vlmax : 00000000000000000000000000000001
RVV_tmp : 011
------------------
FROM RVV : 00000000000000000000000000000001

------------------
RVV_insn  : 10000000101101010111001011010111
RVV_vtype : 00000000000000000000000000000101
RVV_vlmax : 00000000000000000000000000000010
RVV_tmp : 011
------------------
FROM RVV : 00000000000000000000000000000010

------------------
RVV_insn  : 00000000000001010111001011010111
RVV_vtype : 00000000000000000000000000000000
RVV_vlmax : 00000000000000000000000000010000
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000001000

------------------
RVV_insn  : 11000001000011111111001011010111
RVV_vtype : 00000000000000000000000000010000
RVV_vlmax : 00000000000000000000000000000100
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000000100

------------------
RVV_insn  : 11000000100011111111001011010111
RVV_vtype : 00000000000000000000000000001000
RVV_vlmax : 00000000000000000000000000001000
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000001000

------------------
RVV_insn  : 11000000000011111111001011010111
RVV_vtype : 00000000000000000000000000000000
RVV_vlmax : 00000000000000000000000000010000
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000010000

------------------
RVV_insn  : 11000001000111111111001011010111
RVV_vtype : 00000000000000000000000000010001
RVV_vlmax : 00000000000000000000000000001000
RVV_tmp : 111
------------------
FROM RVV : 00000000000000000000000000001000

------------------
RVV_insn  : 11000000100111111111001011010111
RVV_vtype : 00000000000000000000000000001001
RVV_vlmax : 00000000000000000000000000010000
RVV_tmp : 111
------------------
FROM RVV : 00000000000000000000000000010000

------------------
RVV_insn  : 11000000000111111111001011010111
RVV_vtype : 00000000000000000000000000000001
RVV_vlmax : 00000000000000000000000000100000
RVV_tmp : 111
------------------
FROM RVV : 00000000000000000000000000011111

------------------
RVV_insn  : 00000000000000000111001011010111
RVV_vtype : 00000000000000000000000000000000
RVV_vlmax : 00000000000000000000000000010000
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000010000

------------------
RVV_insn  : 00000000100000000111001011010111
RVV_vtype : 00000000000000000000000000001000
RVV_vlmax : 00000000000000000000000000001000
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000001000

------------------
RVV_insn  : 00000000000000000111000001010111
RVV_vtype : 00000000000000000000000000000000
RVV_vlmax : 00000000000000000000000000010000
RVV_tmp : 000
------------------
FROM RVV : 00000000000000000000000000001000
OK
 1st prime is 2.
 2nd prime is 3.
 3rd prime is 5.
 4th prime is 7.
 5th prime is 11.
 6th prime is 13.
 7th prime is 17.
 8th prime is 19.
 9th prime is 23.
10th prime is 29.
11th prime is 31.
12th prime is 37.
13th prime is 41.
14th prime is 43.
15th prime is 47.
16th prime is 53.
17th prime is 59.
18th prime is 61.
19th prime is 67.
20th prime is 71.
21st prime is 73.
22nd prime is 79.
23rd prime is 83.
24th prime is 89.
25th prime is 97.
26th prime is 101.
27th prime is 103.
28th prime is 107.
29th prime is 109.
30th prime is 113.
31st prime is 127.
checksum: 1772A48F OK
input     [FFFFFFFF] 80000000 [FFFFFFFF] FFFFFFFF
hard mul   80000000  00000000  80000000  7FFFFFFF
soft mul   80000000  00000000  80000000  7FFFFFFF   OK
hard div   80000000  00000000  00000000  80000000
soft div   80000000  00000000  00000000  80000000   OK
input     [00000000] 00000000 [00000000] 00000000
hard mul   00000000  00000000  00000000  00000000
soft mul   00000000  00000000  00000000  00000000   OK
hard div   FFFFFFFF  FFFFFFFF  00000000  00000000
soft div   FFFFFFFF  FFFFFFFF  00000000  00000000   OK
input     [FFFFFFFF] 8B578493 [00000000] 00000000
hard mul   00000000  00000000  00000000  00000000
soft mul   00000000  00000000  00000000  00000000   OK
hard div   FFFFFFFF  FFFFFFFF  8B578493  8B578493
soft div   FFFFFFFF  FFFFFFFF  8B578493  8B578493   OK
input     [00000000] 6F038AFB [00000000] 00000000
hard mul   00000000  00000000  00000000  00000000
soft mul   00000000  00000000  00000000  00000000   OK
hard div   FFFFFFFF  FFFFFFFF  6F038AFB  6F038AFB
soft div   FFFFFFFF  FFFFFFFF  6F038AFB  6F038AFB   OK
input     [00000000] 1BFC9C22 [FFFFFFFF] 876B9BDE
hard mul   67CDFB7C  F2D15DD3  0ECDF9F5  0ECDF9F5
soft mul   67CDFB7C  F2D15DD3  0ECDF9F5  0ECDF9F5   OK
hard div   00000000  00000000  1BFC9C22  1BFC9C22
soft div   00000000  00000000  1BFC9C22  1BFC9C22   OK
input     [00000000] 76141B16 [00000000] 5BA2940D
hard mul   949A181E  2A4422A3  2A4422A3  2A4422A3
soft mul   949A181E  2A4422A3  2A4422A3  2A4422A3   OK
hard div   00000001  00000001  1A718709  1A718709
soft div   00000001  00000001  1A718709  1A718709   OK
input     [00000000] 2D45231C [FFFFFFFF] ADFA166F
hard mul   C756A124  F17ECF19  1EC3F235  1EC3F235
soft mul   C756A124  F17ECF19  1EC3F235  1EC3F235   OK
hard div   00000000  00000000  2D45231C  2D45231C
soft div   00000000  00000000  2D45231C  2D45231C   OK
input     [00000000] 09C7BF74 [00000000] 3B014C60
hard mul   73323B80  024115D2  024115D2  024115D2
soft mul   73323B80  024115D2  024115D2  024115D2   OK
hard div   00000000  00000000  09C7BF74  09C7BF74
soft div   00000000  00000000  09C7BF74  09C7BF74   OK
input     [00000000] 4325E1E6 [00000000] 1C32932A
hard mul   0BDA21BC  076568B5  076568B5  076568B5
soft mul   0BDA21BC  076568B5  076568B5  076568B5   OK
hard div   00000002  00000002  0AC0BB92  0AC0BB92
soft div   00000002  00000002  0AC0BB92  0AC0BB92   OK
input     [FFFFFFFF] 84A97421 [FFFFFFFF] EF8D27D7
hard mul   002E8EB7  07ECBD6D  8C96318E  7C235965
soft mul   002E8EB7  07ECBD6D  8C96318E  7C235965   OK
hard div   00000007  00000000  F7CD5D40  84A97421
soft div   00000007  00000000  F7CD5D40  84A97421   OK
input     [00000000] 258BAFEC [00000000] 5EB6FD37
hard mul   D7A707B4  0DE4210A  0DE4210A  0DE4210A
soft mul   D7A707B4  0DE4210A  0DE4210A  0DE4210A   OK
hard div   00000000  00000000  258BAFEC  258BAFEC
soft div   00000000  00000000  258BAFEC  258BAFEC   OK
input     [FFFFFFFF] A31BEA5F [00000000] 145CCB97
hard mul   FE749309  F89C8277  F89C8277  0CF94E0E
soft mul   FE749309  F89C8277  F89C8277  0CF94E0E   OK
hard div   FFFFFFFC  00000008  F48F18BB  00358DA7
soft div   FFFFFFFC  00000008  F48F18BB  00358DA7   OK
input     [00000000] 28E3CD00 [00000000] 793F5181
hard mul   21A74D00  135DC8F9  135DC8F9  135DC8F9
soft mul   21A74D00  135DC8F9  135DC8F9  135DC8F9   OK
hard div   00000000  00000000  28E3CD00  28E3CD00
soft div   00000000  00000000  28E3CD00  28E3CD00   OK
input     [FFFFFFFF] F2E838C6 [00000000] 4BE0C5FE
hard mul   6558B274  FC1E89B3  FC1E89B3  47FF4FB1
soft mul   6558B274  FC1E89B3  FC1E89B3  47FF4FB1   OK
hard div   00000000  00000003  F2E838C6  0F45E6CC
soft div   00000000  00000003  F2E838C6  0F45E6CC   OK
input     [00000000] 38BAA671 [FFFFFFFF] E2E2B92B
hard mul   1B639DFB  F98C5E4E  324704BF  324704BF
soft mul   1B639DFB  F98C5E4E  324704BF  324704BF   OK
hard div   FFFFFFFF  00000000  1B9D5F9C  38BAA671
soft div   FFFFFFFF  00000000  1B9D5F9C  38BAA671   OK
Cycle counter ......... 265947
Instruction counter .... 49272
CPI: 5.39
DONE

------------------------------------------------------------
EBREAK instruction at 0x0000051E
pc  00000521    x8  00000000    x16 E2E2B92B    x24 00000000
x1  000004F0    x9  00000000    x17 00000000    x25 00000000
x2  00020000    x10 20000000    x18 00000000    x26 00000000
x3  DEADBEEF    x11 075BCD15    x19 00000000    x27 00000000
x4  DEADBEEF    x12 0000004F    x20 00000000    x28 000036A8
x5  00000008    x13 0000004E    x21 00000000    x29 0000001D
x6  0000B92B    x14 00000045    x22 00000000    x30 00000000
x7  00000000    x15 0000000A    x23 00000000    x31 00000000
------------------------------------------------------------
Number of fast external IRQs counted: 33
Number of slow external IRQs counted: 4
Number of timer IRQs counted: 1
TRAP after 298084 clock cycles
ALL TESTS PASSED.
